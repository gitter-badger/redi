!function(){function n(n,t){return function(r){return r&&r.type in n?n[r.type](r):t}}function t(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function r(n,t){n.type in p&&p[n.type](n,t)}function e(n,t){r(n.geometry,t)}function o(n,t){for(var e=n.features,o=0,a=e.length;o<a;o++)r(e[o].geometry,t)}function a(n,t){for(var r=n.coordinates,e=0,o=r.length;e<o;e++)t.apply(null,r[e])}function i(n,t){for(var r=n.coordinates,e=0,o=r.length;e<o;e++)for(var a=r[e],i=0,u=a.length;i<u;i++)t.apply(null,a[i])}function u(n,t){for(var r=n.coordinates,e=0,o=r.length;e<o;e++)for(var a=r[e][0],i=0,u=a.length;i<u;i++)t.apply(null,a[i])}function c(n,t){t.apply(null,n.coordinates)}function l(n,t){for(var r=n.coordinates[0],e=0,o=r.length;e<o;e++)t.apply(null,r[e])}function s(n){return n.source}function f(n){return n.target}function h(n,t){function r(n){var t=Math.sin(v-(n*=v))/d,r=Math.sin(n)/d,e=t*u*o+r*p*s,i=t*u*a+r*p*f,l=t*c+r*M;return[Math.atan2(i,e)/g,Math.atan2(l,Math.sqrt(e*e+i*i))/g]}var e=n[0]*g,o=Math.cos(e),a=Math.sin(e),i=n[1]*g,u=Math.cos(i),c=Math.sin(i),l=t[0]*g,s=Math.cos(l),f=Math.sin(l),h=t[1]*g,p=Math.cos(h),M=Math.sin(h),v=r.d=Math.acos(Math.max(-1,Math.min(1,c*M+u*p*Math.cos(l-e)))),d=Math.sin(v);return r}d3.geo={};var g=Math.PI/180;d3.geo.azimuthal=function(){function n(n){var t,e=n[0]*g-r,l=n[1]*g,s=Math.cos(e),f=Math.sin(e),h=Math.cos(l),p=Math.sin(l),M="orthographic"!==i?a*p+o*h*s:null,v="stereographic"===i?1/(1+M):"gnomonic"===i?1/M:"equidistant"===i?(t=Math.acos(M),t?t/Math.sin(t):0):"equalarea"===i?Math.sqrt(2/(1+M)):1,d=v*h*f,y=v*(a*h*s-o*p);return[u*d+c[0],u*y+c[1]]}var t,r,e,o,a,i="orthographic",u=200,c=[480,250];return n.invert=function(n){var t=(n[0]-c[0])/u,e=(n[1]-c[1])/u,l=Math.sqrt(t*t+e*e),s="stereographic"===i?2*Math.atan(l):"gnomonic"===i?Math.atan(l):"equidistant"===i?l:"equalarea"===i?2*Math.asin(.5*l):Math.asin(l),f=Math.sin(s),h=Math.cos(s);return[(r+Math.atan2(t*f,l*o*h+e*a*f))/g,Math.asin(h*a-(l?e*f*o/l:0))/g]},n.mode=function(t){return arguments.length?(i=t+"",n):i},n.origin=function(i){return arguments.length?(t=i,r=t[0]*g,e=t[1]*g,o=Math.cos(e),a=Math.sin(e),n):t},n.scale=function(t){return arguments.length?(u=+t,n):u},n.translate=function(t){return arguments.length?(c=[+t[0],+t[1]],n):c},n.origin([0,0])},d3.geo.albers=function(){function n(n){var t=e*(g*n[0]-r),i=Math.sqrt(o-2*e*Math.sin(g*n[1]))/e;return[c*i*Math.sin(t)+l[0],c*(i*Math.cos(t)-a)+l[1]]}function t(){var t=g*u[0],c=g*u[1],l=g*i[1],s=Math.sin(t),f=Math.cos(t);return r=g*i[0],e=.5*(s+Math.sin(c)),o=f*f+2*e*s,a=Math.sqrt(o-2*e*Math.sin(l))/e,n}var r,e,o,a,i=[-98,38],u=[29.5,45.5],c=1e3,l=[480,250];return n.invert=function(n){var t=(n[0]-l[0])/c,i=(n[1]-l[1])/c,u=a+i,s=Math.atan2(t,u),f=Math.sqrt(t*t+u*u);return[(r+s/e)/g,Math.asin((o-f*f*e*e)/(2*e))/g]},n.origin=function(n){return arguments.length?(i=[+n[0],+n[1]],t()):i},n.parallels=function(n){return arguments.length?(u=[+n[0],+n[1]],t()):u},n.scale=function(t){return arguments.length?(c=+t,n):c},n.translate=function(t){return arguments.length?(l=[+t[0],+t[1]],n):l},t()},d3.geo.albersUsa=function(){function n(n){var a=n[0],i=n[1];return(i>50?r:a<-140?e:i<21?o:t)(n)}var t=d3.geo.albers(),r=d3.geo.albers().origin([-160,60]).parallels([55,65]),e=d3.geo.albers().origin([-160,20]).parallels([8,18]),o=d3.geo.albers().origin([-60,10]).parallels([8,18]);return n.scale=function(a){return arguments.length?(t.scale(a),r.scale(.6*a),e.scale(a),o.scale(1.5*a),n.translate(t.translate())):t.scale()},n.translate=function(a){if(!arguments.length)return t.translate();var i=t.scale()/1e3,u=a[0],c=a[1];return t.translate(a),r.translate([u-400*i,c+170*i]),e.translate([u-190*i,c+200*i]),o.translate([u+580*i,c+430*i]),n},n.scale(t.scale())},d3.geo.bonne=function(){function n(n){var u=n[0]*g-t,c=n[1]*g-r;if(e){var l=o+e-c,s=u*Math.cos(c)/l;u=l*Math.sin(s),c=l*Math.cos(s)-o}else u*=Math.cos(c),c*=-1;return[a*u+i[0],a*c+i[1]]}var t,r,e,o,a=200,i=[480,250];return n.invert=function(n){var r=(n[0]-i[0])/a,u=(n[1]-i[1])/a;if(e){var c=o+u,l=Math.sqrt(r*r+c*c);u=o+e-l,r=t+l*Math.atan2(r,c)/Math.cos(u)}else u*=-1,r/=Math.cos(u);return[r/g,u/g]},n.parallel=function(t){return arguments.length?(o=1/Math.tan(e=t*g),n):e/g},n.origin=function(e){return arguments.length?(t=e[0]*g,r=e[1]*g,n):[t/g,r/g]},n.scale=function(t){return arguments.length?(a=+t,n):a},n.translate=function(t){return arguments.length?(i=[+t[0],+t[1]],n):i},n.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function n(n){var e=n[0]/360,o=-n[1]/360;return[t*e+r[0],t*o+r[1]]}var t=500,r=[480,250];return n.invert=function(n){var e=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return[360*e,-360*o]},n.scale=function(r){return arguments.length?(t=+r,n):t},n.translate=function(t){return arguments.length?(r=[+t[0],+t[1]],n):r},n},d3.geo.mercator=function(){function n(n){var e=n[0]/360,o=-(Math.log(Math.tan(Math.PI/4+n[1]*g/2))/g)/360;return[t*e+r[0],t*Math.max(-.5,Math.min(.5,o))+r[1]]}var t=500,r=[480,250];return n.invert=function(n){var e=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return[360*e,2*Math.atan(Math.exp(-360*o*g))/g-90]},n.scale=function(r){return arguments.length?(t=+r,n):t},n.translate=function(t){return arguments.length?(r=[+t[0],+t[1]],n):r},n},d3.geo.path=function(){function r(n,r){return"function"==typeof u&&(c=t(u.apply(this,arguments))),s(n)||null}function e(n){return l(n).join(",")}function o(n){for(var t=i(n[0]),r=0,e=n.length;++r<e;)t-=i(n[r]);return t}function a(n){for(var t=d3.geom.polygon(n[0].map(l)),r=t.area(),e=t.centroid(r<0?(r*=-1,1):-1),o=e[0],a=e[1],i=r,u=0,c=n.length;++u<c;)t=d3.geom.polygon(n[u].map(l)),r=t.area(),e=t.centroid(r<0?(r*=-1,1):-1),o-=e[0],a-=e[1],i-=r;return[o,a,6*i]}function i(n){return Math.abs(d3.geom.polygon(n.map(l)).area())}var u=4.5,c=t(u),l=d3.geo.albersUsa(),s=n({FeatureCollection:function(n){for(var t=[],r=n.features,e=-1,o=r.length;++e<o;)t.push(s(r[e].geometry));return t.join("")},Feature:function(n){return s(n.geometry)},Point:function(n){return"M"+e(n.coordinates)+c},MultiPoint:function(n){for(var t=[],r=n.coordinates,o=-1,a=r.length;++o<a;)t.push("M",e(r[o]),c);return t.join("")},LineString:function(n){for(var t=["M"],r=n.coordinates,o=-1,a=r.length;++o<a;)t.push(e(r[o]),"L");return t.pop(),t.join("")},MultiLineString:function(n){for(var t,r,o,a=[],i=n.coordinates,u=-1,c=i.length;++u<c;){for(t=i[u],r=-1,o=t.length,a.push("M");++r<o;)a.push(e(t[r]),"L");a.pop()}return a.join("")},Polygon:function(n){for(var t,r,o,a=[],i=n.coordinates,u=-1,c=i.length;++u<c;)if(t=i[u],r=-1,(o=t.length-1)>0){for(a.push("M");++r<o;)a.push(e(t[r]),"L");a[a.length-1]="Z"}return a.join("")},MultiPolygon:function(n){for(var t,r,o,a,i,u,c=[],l=n.coordinates,s=-1,f=l.length;++s<f;)for(t=l[s],r=-1,o=t.length;++r<o;)if(a=t[r],i=-1,(u=a.length-1)>0){for(c.push("M");++i<u;)c.push(e(a[i]),"L");c[c.length-1]="Z"}return c.join("")},GeometryCollection:function(n){for(var t=[],r=n.geometries,e=-1,o=r.length;++e<o;)t.push(s(r[e]));return t.join("")}}),f=r.area=n({FeatureCollection:function(n){for(var t=0,r=n.features,e=-1,o=r.length;++e<o;)t+=f(r[e]);return t},Feature:function(n){return f(n.geometry)},Polygon:function(n){return o(n.coordinates)},MultiPolygon:function(n){for(var t=0,r=n.coordinates,e=-1,a=r.length;++e<a;)t+=o(r[e]);return t},GeometryCollection:function(n){for(var t=0,r=n.geometries,e=-1,o=r.length;++e<o;)t+=f(r[e]);return t}},0),h=r.centroid=n({Feature:function(n){return h(n.geometry)},Polygon:function(n){var t=a(n.coordinates);return[t[0]/t[2],t[1]/t[2]]},MultiPolygon:function(n){for(var t,r=n.coordinates,e=0,o=0,i=0,u=-1,c=r.length;++u<c;)t=a(r[u]),e+=t[0],o+=t[1],i+=t[2];return[e/i,o/i]}});return r.projection=function(n){return l=n,r},r.pointRadius=function(n){return"function"==typeof n?u=n:(u=+n,c=t(u)),r},r},d3.geo.bounds=function(n){var t=1/0,e=1/0,o=-(1/0),a=-(1/0);return r(n,function(n,r){n<t&&(t=n),n>o&&(o=n),r<e&&(e=r),r>a&&(a=r)}),[[t,e],[o,a]]};var p={Feature:e,FeatureCollection:o,LineString:a,MultiLineString:i,MultiPoint:a,MultiPolygon:u,Point:c,Polygon:l};d3.geo.circle=function(){function t(){}function r(n){return c.distance(n)<u}function e(n){for(var t,r,e,a,i,l=-1,s=n.length,f=[];++l<s;)i=c.distance(e=n[l]),i<u?(r&&f.push(h(r,e)((a-u)/(a-i))),f.push(e),t=r=null):(r=e,!t&&f.length&&(f.push(h(f[f.length-1],r)((u-a)/(i-a))),t=r)),a=i;return r&&f.length&&(i=c.distance(e=f[0]),f.push(h(r,e)((a-u)/(a-i)))),o(f)}function o(n){for(var t,r,e,o=0,a=n.length,i=a?[n[0]]:n,u=c.source();++o<a;)for(e=c.source(n[o-1])(n[o]).coordinates,t=0,r=e.length;++t<r;)i.push(e[t]);return c.source(u),i}var a=[0,0],i=89.99,u=i*g,c=d3.geo.greatArc().target(Object);t.clip=function(n){return c.source("function"==typeof a?a.apply(this,arguments):a),l(n)};var l=n({FeatureCollection:function(n){var t=n.features.map(l).filter(Object);return t&&(n=Object.create(n),n.features=t,n)},Feature:function(n){var t=l(n.geometry);return t&&(n=Object.create(n),n.geometry=t,n)},Point:function(n){return r(n.coordinates)&&n},MultiPoint:function(n){var t=n.coordinates.filter(r);return t.length&&{type:n.type,coordinates:t}},LineString:function(n){var t=e(n.coordinates);return t.length&&(n=Object.create(n),n.coordinates=t,n)},MultiLineString:function(n){var t=n.coordinates.map(e).filter(function(n){return n.length});return t.length&&(n=Object.create(n),n.coordinates=t,n)},Polygon:function(n){var t=n.coordinates.map(e);return t[0].length&&(n=Object.create(n),n.coordinates=t,n)},MultiPolygon:function(n){var t=n.coordinates.map(function(n){return n.map(e)}).filter(function(n){return n[0].length});return t.length&&(n=Object.create(n),n.coordinates=t,n)},GeometryCollection:function(n){var t=n.geometries.map(l).filter(Object);return t.length&&(n=Object.create(n),n.geometries=t,n)}});return t.origin=function(n){return arguments.length?(a=n,t):a},t.angle=function(n){return arguments.length?(u=(i=+n)*g,t):i},t.precision=function(n){return arguments.length?(c.precision(n),t):c.precision()},t},d3.geo.greatArc=function(){function n(){for(var n="function"==typeof t?t.apply(this,arguments):t,o="function"==typeof r?r.apply(this,arguments):r,a=h(n,o),i=e/a.d,u=0,c=[n];(u+=i)<1;)c.push(a(u));return c.push(o),{type:"LineString",coordinates:c}}var t=s,r=f,e=6*g;return n.distance=function(){var n="function"==typeof t?t.apply(this,arguments):t,e="function"==typeof r?r.apply(this,arguments):r;return h(n,e).d},n.source=function(r){return arguments.length?(t=r,n):t},n.target=function(t){return arguments.length?(r=t,n):r},n.precision=function(t){return arguments.length?(e=t*g,n):e/g},n},d3.geo.greatCircle=d3.geo.circle}();
wkhomeControllers.controller("clustersCloud",["$routeParams","$scope","$window","sparqlQuery","searchData","globalData",function(a,e,o,t,n,r){e.todos=[],e.ctrlFn=function(a){e.todos=[];var o={};_.map(a,function(a){o.id=a["@id"],o.name=a["foaf:name"],o.keywords=a["dcterms:subject"],o.name&&o.keywords&&e.todos.push({id:o.id,name:o.name,keywords:o.keywords,uri:o.id})}),$("html,body").animate({scrollTop:$("#scrollToHere").offset().top},"slow"),e.loadData()},e.loadData=function(){e.$apply(function(){e.filteredTodos=[],e.currentPage=1,e.numPerPage=10,e.maxSize=5,e.$watch("currentPage + numPerPage",function(){var a=(e.currentPage-1)*e.numPerPage,o=a+e.numPerPage;e.filteredTodos=e.todos.slice(a,o)})})},e.$watch("searchData.genericData",function(a,o,t){e.data={schema:{context:r.CONTEXT,fields:["rdfs:label","uc:total"]},data:n.genericData}}),e.searchAuthor=function(c){var s=r.PREFIX+" CONSTRUCT {   <"+c+"> foaf:name ?name; a foaf:Person   }    WHERE  {Graph <"+r.centralGraph+">{     <"+c+"> a foaf:Person.     <"+c+"> foaf:name ?name } }";t.querySrv({query:s},function(t){jsonld.compact(t,r.CONTEXT,function(t,r){e.$apply(function(){n.authorSearch=r,o.location.hash="/"+a.lang+"/w/search?"+c})})})},e.exportReport=function(a){e.clusterId=a,e.showRepButtons=!0}}]);